# vim: ts=2:sw=2:sts=2:et:ft=yaml.ansible
# -*- mode: yaml; yaml-indent-offset: 2; indent-tabs-mode: nil; -*-
---
# GNU General Public License v3.0+
# SPDX-License-Identifier: GPL-3.0-or-later
# (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)
#
# Copyright (c) 2025 o√ò.o (@o0-o)
#
# This file is part of the o0_o.controller Ansible Collection.

- name: Run o0_o.inventory.facts
  o0_o.inventory.facts:

- name: Assert keys in o0_inventory
  assert:
    that:
      - "'o0_inventory' in ansible_facts"
      - "o0_inventory['name'] == inventory_hostname | default('localhost')"
      - "o0_inventory['path'] is string"
      - "'groups' in o0_inventory"
      - "'vars_paths' in o0_inventory"
      - "'all' in o0_inventory['groups']"
